---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cloudtower_vm Data Source - cloudtower-terraform-provider"
subcategory: ""
description: |-
  CloudTower vm data source.
---

# cloudtower_vm (Data Source)

CloudTower vm data source.



<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `cluster_id` (String) filter VMs by cluster id
- `cluster_id_in` (List of String) filter VMs by cluster id in an array
- `host_id` (String) filter VMs by host id
- `host_id_in` (List of String) filter VMs by host id in an array
- `name` (String) filter VMs by name
- `name_contains` (String) filter VMs by name contain a certain string
- `name_in` (List of String) filter VMs by name in an array
- `status` (String) filter VMs by status
- `status_in` (List of String) filter VMs by status in an array

### Read-Only

- `id` (String) The ID of this resource.
- `vms` (List of Object) list of VMs (see [below for nested schema](#nestedatt--vms))

<a id="nestedatt--vms"></a>
### Nested Schema for `vms`

Read-Only:

- `id` (String)
- `name` (String)
- `status` (String)


### Usage

All arguments are optional, and if multiple arguments are provided, they are ANDed together.

### Use name to get a specific VM

use name will search a VM by its name directly. Return of the data source will be a list, even if there is only one VM found, use index 0 to get the VM.

```hcl
data "cloudtower_vm" "sample_vm" {
  name       = "sample_vm"
}
```

### Use name_contains to fuzzy search VMs

use name_contains will search VMs by its name contains a certain string. Return a list of VMs, use index to get the VM.

```hcl
data "cloudtower_vm" "sample_vm" {
  name_contains       = "sample"
}
```

### Use name_in to search VMs in name array

use name_in will search VMs by its name in a certain array. Return a list of VMs, use index to get the VM.

```hcl
data "cloudtower_vm" "sample_vm" {
  name_in       = ["sample_vm", "sample_vm2"]
}
```

### Use status to get a filter VMs by power status

use status will search VMs by its power status. Return a list of VMs, use index to get the VM.

only accept `"RUNNING", "STOPPED", "SUSPENDED"`

```hcl
data "cloudtower_vm" "sample_vm" {
  status       = "RUNNING"
}
```

### Use status_in to search VMs in status array

use status_in will search VMs by its power status in a certain array. Return a list of VMs, use index to get the VM.

only accept `"RUNNING", "STOPPED", "SUSPENDED"`

```hcl
data "cloudtower_vm" "sample_vm" {
  status_in       = ["RUNNING", "STOPPED"]
}
```

### Use cluster_id to get VMs run on a specific cluster

use cluster_id will search VMs by its cluster id it runs on. Return a list of VMs, use index to get the VM.

```hcl
data "cloudtower_cluster" "sample_cluster" {
  name       = "sample_cluster"
}

data "cloudtower_vm" "sample_vm" {
  cluster_id       = data.cloudtower_cluster.sample_cluster.clusters[0].id
}
```

### Use cluster_id_in to search VMs run on multiple clusters

use cluster_id_in will search VMs run on multiple clusters. Return a list of VMs, use index to get the VM.

```hcl
data "cloudtower_cluster" "sample_cluster" {
  name       = "sample_cluster"
}

data "cloudtower_vm" "sample_vm" {
  cluster_id_in       = [data.cloudtower_cluster.sample_cluster.clusters[0].id, data.cloudtower_cluster.sample_cluster.clusters[1].id]
}
```

### Use host_id to get VMs run on a specific host

use host_id will search VMs by its host id it runs on. Return a list of VMs, use index to get the VM.

```hcl
data "cloudtower_host" "sample_host" {
  name       = "sample_host"
}

data "cloudtower_vm" "sample_vm" {
  host_id       = data.cloudtower_host.sample_host.hosts[0].id
}
```

### Use host_id_in to search VMs run on multiple hosts

use host_id_in will search VMs run on multiple hosts. Return a list of VMs, use index to get the VM.

```hcl
data "cloudtower_host" "sample_host" {
  name       = "sample_host"
}
```