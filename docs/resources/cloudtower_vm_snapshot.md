---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cloudtower_vm_snapshot Resource - cloudtower-terraform-provider"
subcategory: ""
description: |-
  CloudTower vm snapshot resource
---

# cloudtower_vm_snapshot (Resource)

CloudTower vm snapshot resource



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of snapshot
- `vm_id` (String) The id of vm to the snapshot belongs to

### Optional

- `consistent_type` (String) The consistent type of snapshot

### Read-Only

- `cd_roms` (List of Object) template's cd_rom (see [below for nested schema](#nestedatt--cd_roms))
- `disks` (List of Object) template's disks (see [below for nested schema](#nestedatt--disks))
- `id` (String) The ID of this resource.
- `nics` (List of Object) template's nics (see [below for nested schema](#nestedatt--nics))

<a id="nestedatt--cd_roms"></a>
### Nested Schema for `cd_roms`

Read-Only:

- `boot` (Number)
- `elf_image_id` (String)
- `svt_image_id` (String)


<a id="nestedatt--disks"></a>
### Nested Schema for `disks`

Read-Only:

- `boot` (Number)
- `bus` (String)
- `name` (String)
- `path` (String)
- `size` (Number)
- `storage_policy` (String)


<a id="nestedatt--nics"></a>
### Nested Schema for `nics`

Read-Only:

- `enabled` (Boolean)
- `idx` (Number)
- `mirror` (Boolean)
- `model` (String)
- `vlan_id` (String)

## Usage

### Create a vm snapshot

This will create a vm snapshot in cloudtower, and will manage its lifecycle with terraform

```hcl
data "cloudtower_vm" "sample_vm" {
  name       = "sample_vm"
}

resource "cloudtower_vm_snapshot" "sample_vm_snapshot" {
  name       = "sample_vm_snapshot"
  vm_id      = data.cloudtower_vm.sample_vm.vms[0].id
}
```

### Create a vm snapshot with consistent_type

Consisent type can be defined when create a vm snapshot.

Only accept `["CRASH_CONSISTENT", "FILE_SYSTEM_CONSISTENT"]`, and Only Vm tools is running on the VM, `FILE_SYSTEM_CONSISTENT` can be used.

```hcl
data "cloudtower_vm" "sample_vm" {
  name       = "sample_vm"
}

resource "cloudtower_vm_snapshot" "sample_vm_snapshot" {
  name       = "sample_vm_snapshot"
  vm_id      = data.cloudtower_vm.sample_vm.vms[0].id
  consistent_type = "FILE_SYSTEM_CONSISTENT"
}
```